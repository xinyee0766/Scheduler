{% extends "base.html" %}

{% block title %}Timetable{% endblock %}

{% block content %}
<h1>My Class Timetable</h1>

<div class="actions">
  <a href="{{ url_for('add_class') }}" class="button">Add Class</a>
  <a href="{{ url_for('index') }}" class="button secondary">View As List</a>
</div>

<div class="timetable">
  <table>
    <thead>
      <tr>
        <th>Time</th>
        {% for day in ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'] %}
          <th>{{ day }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for slot in time_slots %}
      <tr>
        <td class="time-header">{{ slot }}</td>
        {% for day in ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'] %}
        <td>
          {% for c in class_map[day][slot] %}
          <div class="class-event {{ c['day']|lower }}">
            <div class="class-name">{{ c['name'] }}</div>
            <div class="class-location">{{ c['location'] }}</div>
            <div class="class-time">{{ c['start_time'] }} - {{ c['end_time'] }}</div>
            {% if c['notes'] %}
            <div class="class-notes">{{ c['notes'] }}</div>
            {% endif %}
          </div>
          {% endfor %}
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
