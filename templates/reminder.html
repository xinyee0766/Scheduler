{% extends "base.html" %}
{% block title %}Reminder Dashboard{% endblock %}

{% block content %}
<main class="container reminder-container">

  <!-- Controls -->
  <section class="controls">
    <h2>Settings</h2>
    <div class="notification-toggle">
      <input type="checkbox" id="notificationToggle">
      <label for="notificationToggle">Enable Notifications</label>
    </div>
  </section>

  <!-- Reminder Form -->
  <section class="reminder-form">
    <h2>Add Reminder</h2>
    <form id="reminderForm">
      <input type="text" id="task" placeholder="Reminder title..." required>
      <select id="category" required>
        <option value="">Category...</option>
        <option value="assignment">Assignment</option>
        <option value="exam">Exam</option>
        <option value="project">Project</option>
        <option value="personal">Personal</option>
      </select>
      <input type="date" id="due" required>
      <input type="time" id="due_time" value="09:00">
      <select id="priority">
        <option value="low">Low</option>
        <option value="medium" selected>Medium</option>
        <option value="high">High</option>
      </select>
      <button type="submit">Add</button>
    </form>
  </section>

  <!-- Dashboard -->
  <section class="dashboard">
    <h2>My Reminders</h2>
    <div class="tabs">
      <button class="tab active" data-tab="current">Reminders</button>
      <button class="tab" data-tab="history">History</button>
      <button class="tab" data-tab="notes">Notes</button>
      <button class="tab" data-tab="stats">Statistics</button>
    </div>

    <!-- Current Reminders -->
    <div id="current" class="tab-content active">
      <table>
        <thead>
          <tr>
            <th>Title</th><th>Category</th><th>Due</th>
            <th>Time</th><th>Priority</th><th>Status</th><th>Actions</th>
          </tr>
        </thead>
        <tbody id="reminderList"></tbody>
      </table>
    </div>

    <!-- History -->
    <div id="history" class="tab-content">
      <div id="historyList"></div>
    </div>

    <!-- Notes -->
    <div id="notes" class="tab-content">
      <textarea id="noteContent" placeholder="Write a note..."></textarea>
      <button onclick="addNote()">Add Note</button>
      <div id="notesList"></div>
    </div>

    <!-- Statistics -->
    <div id="stats" class="tab-content">
      <div class="stats-container">
        <div class="stat-card"><h3>Total</h3><div id="totalReminders">0</div></div>
        <div class="stat-card"><h3>Upcoming</h3><div id="upcomingCount">0</div></div>
        <div class="stat-card"><h3>Completed</h3><div id="completedCount">0</div></div>
        <div class="stat-card"><h3>Notes</h3><div id="notesCount">0</div></div>
      </div>
      <div class="chart-container">
        <h3>Reminder Trends</h3>
        <canvas id="trendChart"></canvas>
      </div>
    </div>
  </section>

</main>

<!-- Scripts -->
<link rel="stylesheet" href="{{ url_for('static', filename='reminder.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='reminder.js') }}"></script>
{% endblock %}
